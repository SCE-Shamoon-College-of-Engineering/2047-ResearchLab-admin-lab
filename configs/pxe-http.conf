# Bind dnsmasq to the correct network interface (your NIC)
interface=enp0s31f6
bind-interfaces
no-resolv
except-interface=lo

# PXE HTTPBoot configuration for UEFI clients (architecture 16)
dhcp-match=set:efihttp,option:client-arch,16
dhcp-boot=tag:efihttp,http://192.168.1.250/EFI/BOOT/bootx64.efi

# Standalone DHCP server range (adjust if you use proxy DHCP)
dhcp-range=192.168.1.100,192.168.1.200,12h
dhcp-option=3,192.168.1.1          # Default gateway
dhcp-option=6,8.8.8.8,1.1.1.1      # DNS servers

# Enable TFTP for legacy PXE clients (not used by HTTPBoot but kept for fallback)
enable-tftp
tftp-root=/srv/tftp

# Logging for debugging
log-queries
log-dhcp
log-facility=/var/log/dnsmasq.log
